@model ML.Empleado

@{
    ViewBag.Title = "GetAll";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>GetAll</h2>

<div class="row">
    <div class="col-md-12">
        <h5>Seleccione una para editarla o + para agregar...</h5>
        <hr />
    </div>
</div>

<div class="row">
    <div class="col-auto">



        @Html.ActionLink(" Agregar", "Form", "Empleado", new { area = "" }, new { @class = "btn btn-success bi bi-person-plus" })


    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <a><input type="submit" value="Tablas" class="btn btn-success col-md-12" id="tablas" /></a>
    </div>
    <div class="col-md-6">
        <a><input type="submit" value="Carts" class="btn btn-primary col-md-12" id="cartas" /></a>
    </div>
</div>


<div class="row g-3" id="fuImage" style="display:none;">
    <div class="col-md-6">
        <div class="input-group">

            <table class="table table-bordered table-responsive">
                <thead>
                    <tr>
                        <td>Editar</td>
                        <td class="hidden">Numero de Empleado</td>
                        <td>RFC</td>
                        <td>Nombre</td>
                        <td>Apellido Paterno</td>
                        <td>Apellido Materno</td>
                        <td>Email</td>
                        <td>Telefono</td>
                        <td>Fecha de Nacimiento</td>
                        <td>NSS</td>
                        <td>Fecha de ingreso</td>
                        <td>Foto</td>
                        <td>Empresa</td>






                        <td>Eliminar</td>
                    </tr>

                </thead>


                <tbody>
                    @foreach (ML.Empleado empleado in Model.Empleados)
                    {
                        <tr>
                            <td><a class="btn btn-warning bi bi-pencil" href="@Url.Action("Form", "Empleado", new { numeroEmpleado = empleado.NumeroEmpleado })"></a></td>
                            <td class="hidden">@empleado.NumeroEmpleado</td>
                            <td>@empleado.RFC</td>
                            <td>@empleado.Nombre</td>
                            <td>@empleado.ApellidoPaterno</td>
                            <td>@empleado.ApellidoMaterno</td>
                            <td>@empleado.Email</td>
                            <td>@empleado.Telefono</td>
                            <td>@empleado.FechaNacimiento</td>
                            <td>@empleado.NSS</td>
                            <td>@empleado.FechaIngreso</td>
                            <td>
                                @if (empleado.Foto != null)
                                {<img id="imgUsuario" src="data:image/jpeg;base64,@Convert.ToBase64String(empleado.Foto)" width="100" height="100" />}
                                else
                                { <img src="~/Image/DefaultImage.jpg" id="imgUsuario" width="100" height="100" />}
                            </td>
                            <td>@empleado.Empresa.Nombre</td>


                            <td><a class="btn btn-danger bi bi-trash" href="@Url.Action("Delete", "Empleado", new { numeroEmpleado = empleado.NumeroEmpleado})" onclick="return confirm('Estas seguro que deseas eliminar este registro?');"></a></td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
 
</div>

<br />

<div class="row g-3" id="fuImage2" style="display:none;">

    
            @foreach (ML.Empleado empleado in Model.Empleados)
            { 

            <div class="card" style="width: 18rem;">
                
                <div class="card-body">
                    <tr>
                        @if (empleado.Foto != null)
                        {
                            <img id="imgUsuario" src="data:image/jpeg;base64,@Convert.ToBase64String(empleado.Foto)" width="100" height="100" />
                        }
                        else
                        {
                            <img src="~/Image/DefaultImage.jpg" id="imgUsuario" width="100" height="100" />
                        }

                 



                        <p class="card-text visually-hidden">@empleado.NumeroEmpleado</p>
                        <p class="card-text">RFC: @empleado.RFC</p>
                        <p class="card-text">Nombre: @empleado.Nombre</p>
                        <p class="card-text">Apellido Paterno: @empleado.ApellidoPaterno</p>
                        <p class="card-text">Apellido Materno: @empleado.ApellidoMaterno</p>
                        <p class="card-text">Email: @empleado.Email</p>
                        <p class="card-text">Telefono: @empleado.Telefono</p>
                        <p class="card-text">Fecha de Nacimiento: @empleado.FechaNacimiento</p>
                        <p class="card-text">NSS: @empleado.NSS</p>
                        <p class="card-text">Fecha de ingreso: @empleado.FechaIngreso</p>
                        <p class="card-text">Empresa: @empleado.Empresa.Nombre</p>

                        <a class="btn btn-warning bi bi-pencil" href="@Url.Action("Form", "Empleado", new { numeroEmpleado = empleado.NumeroEmpleado })"></a>
                        <a class="btn btn-danger bi bi-trash" href="@Url.Action("Delete", "Empleado", new { numeroEmpleado = empleado.NumeroEmpleado})" onclick="return confirm('Estas seguro que deseas eliminar este registro?');"></a>
                    </tr>

                </div>
            </div>
            }

                

            </div>



<br />



@Scripts.Render("~/bundles/jquery")
<script type="text/javascript">


    $('#tablas').click(function () {
        $('#fuImage').toggle('fast', function () {
        });

        $('#fuImage2').hide('', function () {
        });


    });


    $('#cartas').click(function () {
        $('#fuImage2').toggle('fast', function () {
        });

        $('#fuImage').hide('', function () {
        });
    });
</script>